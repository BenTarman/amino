FROM debian:jessie

RUN apt-get -y update && \
    apt-get install -y  build-essential gfortran f2c \
            autoconf automake libtool autoconf-archive autotools-dev \
            maxima libblas-dev liblapack-dev \
            libsdl2-dev \
            libompl-dev libfcl-dev \
            doxygen groff \
            sbcl \
            flex povray libav-tools \
            coinor-libclp-dev libglpk-dev liblpsolve55-dev \
            wget

# Debian Jessie requires a newer SBCL
RUN wget 'http://prdownloads.sourceforge.net/sbcl/sbcl-1.3.9-x86-64-linux-binary.tar.bz2' && \
    tar xf sbcl*.tar.* && \
    cd sbcl*linux && \
    sh install.sh

RUN wget https://beta.quicklisp.org/quicklisp.lisp && \
    sbcl --load quicklisp.lisp \
         --eval '(quicklisp-quickstart:install)' \
         --eval '(ql:quickload :cffi)' \
         --eval '(ql:quickload :cffi-grovel)' \
         --eval '(ql:quickload :cxml)' \
         --eval '(ql:quickload :cl-ppcre)' \
         --eval '(ql:quickload :clpython)' \
         --eval '(quit)'


COPY . /root/amino


# Local Variables:
# mode: dockerfile
# End:
